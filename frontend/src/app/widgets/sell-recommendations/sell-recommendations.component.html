<div class="dashboard-card">
  <div class="card-header">
    <div class="card-title">Positions recommended to sell</div>
    <div class="card-description">Instruments to consider for portfolio adjustment</div>
  </div>
  <div class="card-content">
    <div class="overflow-x-auto">
      <table>
        <thead>
          <tr>
            <th>Ticker</th>
            <th>Name</th>
            <th class="text-right">Current Price</th>
            <th class="text-right">Target Price</th>
            <th class="text-right">Proximity</th>
            <th>Recommendation</th>
            <th>Select</th>
          </tr>
        </thead>
        <tbody>
          <tr *ngFor="let position of positions">
            <td class="font-medium">{{position.ticker}}</td>
            <td>{{position.name}}</td>
            <td class="text-right">${{position.currentPrice.toFixed(2)}}</td>
            <td class="text-right">${{position.targetPrice.toFixed(2)}}</td>
            <td [ngClass]="getProximityColor(position.proximity)" class="text-right font-medium">
              <div class="flex items-center justify-end">
                {{position.proximity}}%
                
              </div>
            </td>
            <td>
              <div class="flex flex-col gap-1">
                <span [ngClass]="getRecommendationBadge(position.recommendation)">
                  {{position.recommendation}}
                </span>
                <!--span class="text-xs text-muted-foreground">{{item.reasoning}}</span-->
              </div>
            </td>
            <td>
              <button 
                [ngClass]="position.selection ? 'selected-btn' : 'select-btn'"
                (click)="toggleSelection(position)">
                {{ position.selection ? 'Selected' : 'Select' }}
              </button>
            </td>
          </tr>
        </tbody>
      </table>
    </div>
  </div>
</div>
